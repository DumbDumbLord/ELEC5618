Class 1
Selected Class
Test Suite
Test Outcomes
Additional Classes
Bottom-Up Testing

Class 2
Class 2
Selected Class
MapModel.java
Directory:
freeplane/src/main/java/org/freeplane/features/map/MapModel.java
Test Suite
1. Ensure dependencies are present in build.gradle（freeplane/build.gradle）:
testImplementation 'junit:junit:4.13.2'
testImplementation 'org.mockito:mockito-core:3.12.4'
testImplementation 'org.assertj:assertj-core:3.26.0'
2. Place the test file at:	freeplane/src/test/java/org/freeplane/features/map/MapModelSpec.java

3. Run the tests:
./gradlew :freeplane:test --tests org.freeplane.features.map.MapModelSpec

4. View the test report: Open freeplane/build/reports/tests/test/index.html in your browser to see the results.

Tests:
shouldCreateMapAndSetRootNode
Verifies that a root node can be created, assigned to a MapModel, and later retrieved correctly using getRootNode().
shouldInsertChildNodesAndRetrieve
Checks that child nodes can be inserted into a root node, retrieved by index, and that they are correctly registered and accessible using getNodeForID().
shouldSimulateFullMapCreation
Simulates the creation of a multi-level node hierarchy (root → childA → childB) and confirms proper parent-child relationships and node registration.
shouldSetAndGetRootNode
Tests MapModel.setRoot() and getRootNode() methods to ensure correct root node assignment and retrieval.
shouldRegisterNodeAndFindById
Verifies that a node with a specific ID can be registered using registryNode() and retrieved using getNodeForID().
shouldSetAndGetReadOnlyFlag
Tests that MapModel.setReadOnly() accurately updates the read-only flag, and isReadOnly() reflects the correct state.
shouldSetAndGetURL
Ensures that MapModel.setURL() correctly sets the URL, and both getURL() and getTitle() return the expected values.
shouldRegisterNodesRecursively
Checks that registryNodeRecursive() properly registers a node and all its children, allowing retrieval by ID for any node in the subtree.
shouldSetAndCheckSavedStatusValidates the save state tracking by toggling 
setSaved(true/false) and confirming the result through isSaved().
shouldAddAndRemoveMapChangeListener
Ensures that a map change listener can be added and removed from the MapModel without error (functional verification via control flow).
shouldAddAndRemoveExtensions
Tests the MapModel extension system by adding a dummy extension, verifying presence with containsExtension(), and removing it successfully with removeExtension().
Test Outcomes
Additional Classes
NodeModel.java(src/main/java/org/freeplane/features/map/NodeModel.java)
MapController.java(src/main/java/org/freeplane/features/map/MapController.java)
Bottom-Up Testing
shouldCreateMapAndSetRootNode
Verifies that a NodeModel can be created, assigned as the root of a MapModel, and later retrieved using getRootNode(). It also checks that the node’s ID is preserved correctly.
@Test
   public void shouldCreateMapAndSetRootNode() {
       root = new NodeModel(map);
       root.setID("rootNode");
       map.setRoot(root);


       assertSame(root, map.getRootNode());
       assertEquals("rootNode", map.getRootNode().getID());
   }
shouldInsertChildNodesAndRetrieve
Tests the ability to insert multiple child nodes into the root node. It verifies that the children are retrievable by index, and that their IDs are correctly registered and retrievable via getNodeForID().
@Test
   public void shouldInsertChildNodesAndRetrieve() {
       root = new NodeModel(map);
       map.setRoot(root);


       NodeModel child1 = new NodeModel(map);
       child1.setID("child1");
       root.insert(child1);


       NodeModel child2 = new NodeModel(map);
       child2.setID("child2");
       root.insert(child2);


       map.registryNode(child1);
       map.registryNode(child2);


       assertEquals(2, root.getChildCount());
       assertSame(child1, root.getChildAt(0));
       assertSame(child2, root.getChildAt(1));
       assertSame(child1, map.getNodeForID("child1"));
       assertSame(child2, map.getNodeForID("child2"));
   }
shouldSimulateFullMapCreation
Simulates a nested node hierarchy (root → childA → childB) and ensures that the structure is built correctly. It validates that child nodes can be inserted at deeper levels and still be registered and accessed properly via their unique IDs.
@Test
   public void shouldSimulateFullMapCreation() {
       root = new NodeModel(map);
       root.setID("root123");
       map.setRoot(root);


       NodeModel childA = new NodeModel(map);
       childA.setID("childA");
       root.insert(childA);


       NodeModel childB = new NodeModel(map);
       childB.setID("childB");
       childA.insert(childB);


       map.registryNode(childA);
       map.registryNode(childB);


       assertEquals(childA, root.getChildAt(0));
       assertEquals(childB, childA.getChildAt(0));
       assertEquals(childB, map.getNodeForID("childB"));
   }


Class 3
Selected Class
Test Suite
Test Outcomes
Additional Classes
Bottom-Up Testing

Class 4

Selected Class

NodeMatcher.java

Directory:
freeplane/src/main/java/org/freeplane/features/explorer/NodeMatcher.java

Test Suite

(Testing directly on original code)
To get Test Coverage (using jacoco)

Add to freeplane/bulid.gradle

plugins {
  id 'jacoco'
}

Add to freeplane/freeplane/bulid.gradle
apply plugin: 'jacoco'

jacocoTestReport {
    dependsOn test // tests are required to run before generating the report
    reports {
        xml.required = false
        csv.required = false
        html.outputLocation = layout.buildDirectory.dir('jacocoHtml')
    }
}

test {
    finalizedBy jacocoTestReport
}

Test commands:
gradle test

Tests:
All test in different file here [code](./Class 4 files/NodeMatcherSpec.java)
(was place in freeplane/src/test/java/org/freeplane/features/explorer/NodeMatcherSpec.java)

matches() matches property of node to check if it matches node.

filterMatchingNodes() filters all matching nodes that has property

NodeMatcherBlank(): Test matches() with blank test string, in addition should test no_content enum

NodeMatcherAlias(): Test matches() with a node alias, in addition should test alias enum

NodeMatcherTextFullTrue1(): Test matches() with text that has double quotation marks.

NodeMatcherTextFullTrue2(): Test matches() with text that has single quotation marks.

NodeMatcherTextPartTrue1(): Test matches() with text that has double quotation marks and ellipsis.

NodeMatcherTextPartTrue2(): Test matches() with text that has single quotation marks and ellipsis.

NodeMatcherTextFullFalse(): Test matches() with text when text doesn’t match node

NodeMatcherInvalid(): Test matches() with invalid search string

NodeMatcherCounterMatch(): Test matches() with counter, will return error as counter is used for filterMatchingNodes()

NodeMatcherList(): Test filterMatchingNodes() with text.

NodeMatcherCounter(): Test filterMatchingNodes() with counter, within node list range.

NodeMatcherCounterEmpty(): Test filterMatchingNodes() with counter, outside node list range.

Test Outcomes

[Test Coverage](./Class 4 files/class4TestCoverage.PNG)
(some branches are impossible while some are too minor and overlap)

[Test Result](./Class 4 files/class4TestResult.PNG)

Additional Classes

Command
(freeplane/src/main/java/org/freeplane/features/explorer/Command.java)

A Class which functions with ExploringStep to control operations of NodeMatcher. Calls NodeMatcher 

ExploringStep
(freeplane/src/main/java/org/freeplane/features/explorer/ExploringStep.java)

An Enum Class where its methods vary depending on its enum type. Calls NodeMatcher 

Bottom-Up Testing

(was place in freeplane/src/test/java/org/freeplane/features/explorer/Command.java)
[code](./Class 4 files/CommandSpec.java)

   @Test
    public void CommandChild() throws Exception {
        AccessedNodes accessedNodes = mock(AccessedNodes.class);
        NodeModel parent = new NodeModel("", null);

        parent.insert(new NodeModel("a", null));
        parent.insert(new NodeModel("b", null));
        parent.insert(new NodeModel("c", null));
        parent.insert(new NodeModel("d", null));

        Command command = new Command(ExploringStep.CHILD, "\'b\'", accessedNodes);

        assertEquals(command.getNodes(parent).toString(), "[b]");
    }

Code test dependency of NodeMatcher, Command and ExploringStep. Command creates NodeMatcher when it is created with search string “\’b\’”, while ExploringStep is type CHILD hence getNode (of ExploringStep) will search for the child nodes of the node selected when Command method getNodes is called. 

    @Test
    public void CommandDescendant() throws Exception {
        AccessedNodes accessedNodes = mock(AccessedNodes.class);
        NodeModel parent = new NodeModel("", null);

        parent.insert(new NodeModel("a", null));
        NodeModel node = new NodeModel("b", null);
        node.insert(new NodeModel("d", null));
        parent.insert(node);
        parent.insert(new NodeModel("c", null));

        Command command = new Command(ExploringStep.DESCENDANT, "\'d\'", accessedNodes);

        assertEquals(command.getNodes(parent).toString(), "[d]");
    }

Changed ExploringStep type to DESCENDANT hence will check descendants of nodes. This checks the descendant ‘d’ of ‘parent’ which is a child of ‘b’.

   @Test
    public void CommandAncestor() throws Exception {
        AccessedNodes accessedNodes = mock(AccessedNodes.class);
        NodeModel parent = new NodeModel("a", null);

        parent.insert(new NodeModel("e", null));
        NodeModel nodeB = new NodeModel("b", null);
        NodeModel nodeC = new NodeModel("c", null);
        nodeB.insert(nodeC);
        parent.insert(nodeB);
        parent.insert(new NodeModel("d", null));

        Command command = new Command(ExploringStep.ANCESTOR, "\'a\'", accessedNodes);

        assertEquals(command.getNodes(nodeC).toString(), "[a]");
    }

Changed ExploringStep type to ANCESTOR hence will check ancestors of the node. This code checks the ancestor of ‘c’, ‘a’.

    @Test
    public void CommandString() throws Exception {
        AccessedNodes accessedNodes = mock(AccessedNodes.class);

        Command command = new Command(ExploringStep.CHILD, "\'a\'", accessedNodes);

        assertEquals(command.toString(), "Command [operator=CHILD, searchedString='a']");
    }

Checked toString method of command showing its ExploringStep type and searchedString.

[Bottom Up Test Result](./Class 4 files/class4TestBottomUp.PNG)

Class 5
Selected Class
Test Suite
Test Outcomes
Additional Classes
Bottom-Up Testing
